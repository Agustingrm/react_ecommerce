(this.webpackJsonpecommerce=this.webpackJsonpecommerce||[]).push([[0],{74:function(e,t,n){},75:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),c=n(31),i=n.n(c),s=n(23),o=n(13),l=n(3);var d=function(){var e={box:{position:"absolute",bottom:"0",width:"100%",display:"flex",backgroundColor:"black",height:"40px",alignItems:"center",justifyContent:"center"},text:{fontSize:"16px",fontWeight:"500",color:"white"}};return Object(l.jsx)("div",{style:e.box,children:Object(l.jsxs)("div",{style:e.text,children:["Made with ",Object(l.jsx)("span",{style:{color:"red"},children:"\u2665"})," by Agust\xedn Gramajo Gait\xe1n"]})})},j=n(21),u=n(49),p=n.n(u),b=r.a.createContext({}),x=n(78),m=n(80);var h=function(){var e=Object(a.useContext)(b),t={header:{position:"sticky",top:"0px",padding:"0 10px",display:"flex",alignItems:"center",backgroundColor:"black"},title:{fontFamily:"Lobster",fontSize:"32px",margin:"0",padding:"0",textDecoration:"none",color:"white"},linksToSections:{fontSize:"20px",marginRight:"20px",textDecoration:"none",color:"white"},separator:{marginLeft:"auto"},hamburgerMenuColor:{backgroundColor:"white"}};return Object(a.useEffect)((function(){p.a.load({google:{families:["Lobster"]}})}),[]),Object(l.jsxs)(x.a,{style:t.header,expand:"lg",children:[Object(l.jsx)(x.a.Brand,{style:t.title,children:" My Fake E-Commerce"}),Object(l.jsx)(x.a.Toggle,{"aria-controls":"basic-navbar-nav",style:t.hamburgerMenuColor}),Object(l.jsxs)(x.a.Collapse,{id:"basic-navbar-nav",children:[Object(l.jsxs)(m.a,{className:"ms-auto",children:[Object(l.jsx)(m.a.Link,{children:Object(l.jsx)(s.b,{to:"/react_ecommerce",style:Object(j.a)(Object(j.a)({},t.separator),t.linksToSections),children:"Products"})}),Object(l.jsx)(m.a.Link,{children:Object(l.jsx)(s.b,{to:"/Login",style:t.linksToSections,children:"Login"})}),Object(l.jsx)(m.a.Link,{children:Object(l.jsx)(s.b,{to:"/Register",style:t.linksToSections,children:"Register"})}),Object(l.jsx)(m.a.Link,{children:Object(l.jsxs)(s.b,{to:"ShoppingCart",style:t.linksToSections,children:["Shopping Cart (",e.shoppingList.length,")"]})})]}),";"]})]})},g=n(18),O=n.n(g),f=n(25),v=n(16),y=n(40);var C=function(){var e={loadingDiv:{display:"flex",justifyContent:"center",margin:"100px auto"},spinnerSpacing:{margin:"0 20px"}};return Object(l.jsxs)("div",{style:e.loadingDiv,children:[Object(l.jsx)(y.a,{animation:"grow",variant:"secondary"}),Object(l.jsx)(y.a,{animation:"grow",variant:"secondary",style:e.spinnerSpacing}),Object(l.jsx)(y.a,{animation:"grow",variant:"secondary"})]})},k=n(77);var w=function(e){var t=e.products,n=t.title,r=t.price,c=t.image,i=t.id,o=Object(a.useContext)(b),d={centerItems:{display:"flex",justifyContent:"center",margin:"20px 0"},border:{border:"1px solid gray",borderRadius:"10px",padding:"10px"},h2:{fontSize:"18px",height:"90px"},buttonSpacing:{float:"right"},image:{height:"150px"},linkStyle:{textDecoration:"none",color:"inherit"}};return Object(l.jsxs)("div",{style:d.border,children:[Object(l.jsx)("div",{style:d.centerItems,children:Object(l.jsx)("img",{src:c,alt:n,style:d.image})}),Object(l.jsx)("h2",{style:d.h2,children:n}),Object(l.jsxs)("p",{children:["U$",r]}),Object(l.jsx)(k.a,{variant:"outline-secondary",children:Object(l.jsx)(s.b,{to:"product/"+i,style:d.linkStyle,children:"Details"})}),Object(l.jsx)(k.a,{variant:"success",style:d.buttonSpacing,onClick:function(e){e.preventDefault();var t={name:n,price:r};o.addToCart(t)},children:"Add to Cart"})]})};var S=function(){var e=Object(a.useState)(!0),t=Object(v.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)([]),i=Object(v.a)(c,2),s=i[0],o=i[1],d={title:{margin:"20px 60px 0 60px"},grid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, 300px)",rowGap:"20px",columnGap:"20px",justifyContent:"center",margin:"20px 0"}},j=function(){var e=Object(f.a)(O.a.mark((function e(){var t,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://fakestoreapi.com/products");case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,o(n),r(!1),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),alert(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){j()}),[]),n?Object(l.jsx)(C,{}):Object(l.jsxs)("div",{children:[Object(l.jsx)("h1",{style:d.title,children:"Products"}),Object(l.jsx)("div",{style:d.grid,children:s.map((function(e){return Object(l.jsx)(w,{products:e},e.id)}))})]})},I=n(30),L=n(79),N=n(28);N.a.initializeApp({apiKey:"AIzaSyCYPuJZI0r8R2VUZ87ZVxkvJXre6SV231o",authDomain:"finalprojectutnfrba.firebaseapp.com",projectId:"finalprojectutnfrba",storageBucket:"finalprojectutnfrba.appspot.com",messagingSenderId:"59163629536",appId:"1:59163629536:web:aecd8d81d35e6fe8febd85"}),N.a.db=N.a.firestore(),N.a.authentication=N.a.auth();var P=N.a;var D=function(){var e=Object(a.useContext)(b),t=Object(a.useState)({email:"",password:""}),n=Object(v.a)(t,2),r=n[0],c=n[1],i={margin:{margin:"50px 30px"}},s=function(){var t=Object(f.a)(O.a.mark((function t(n){var a,c,i;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.prev=1,t.next=4,P.authentication.signInWithEmailAndPassword(r.email,r.password);case 4:return c=t.sent,t.next=7,P.db.collection("users").where("userId","==",c.user.uid).get();case 7:i=t.sent,e.loginUser(),alert("Welcome "+(null===(a=i.docs[0])||void 0===a?void 0:a.data().fullName)),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),"auth/user-not-found"==t.t0.code&&alert("User not found");case 15:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(e){return t.apply(this,arguments)}}(),o=function(e){var t=e.target.name,n=e.target.value;c(Object(j.a)(Object(j.a)({},r),{},Object(I.a)({},t,n)))};return!1===e.userLogin?Object(l.jsxs)(L.a,{style:i.margin,children:[Object(l.jsxs)(L.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(l.jsx)(L.a.Label,{children:"Email address"}),Object(l.jsx)(L.a.Control,{label:"email",name:"email",type:"email",placeholder:"Enter email",value:r.email,onChange:o}),Object(l.jsx)(L.a.Text,{className:"text-muted",children:"We'll never share your email with anyone else."})]}),Object(l.jsxs)(L.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(l.jsx)(L.a.Label,{children:"Password"}),Object(l.jsx)(L.a.Control,{label:"password",name:"password",type:"password",placeholder:"Password",value:r.password,onChange:o})]}),Object(l.jsx)(k.a,{variant:"secondary",type:"submit",onClick:s,children:"Login"})]}):Object(l.jsxs)("div",{style:i.margin,children:[Object(l.jsx)("h2",{children:"You are already Logged in"}),Object(l.jsx)(k.a,{variant:"secondary",type:"submit",onClick:function(){e.logoutUser()},children:"Logout"})]})};var E=function(e){var t=Object(a.useContext)(b),n=e.match.params.id,r=Object(a.useState)(!0),c=Object(v.a)(r,2),i=c[0],s=c[1],o=Object(a.useState)({}),d=Object(v.a)(o,2),j=d[0],u=d[1],p=j.title,x=j.price,m=j.image,h=j.description,g=j.category,y={contentPadding:{padding:"20px"},imageDiv:{border:"1px solid gray",borderRadius:"10px",padding:"10px",width:"330px",display:"flex",justifyContent:"center",alignItems:"center",margin:"auto"},image:{height:"170px"}};return Object(a.useEffect)((function(){(function(){var e=Object(f.a)(O.a.mark((function e(){var t,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://fakestoreapi.com/products/"+n);case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,u(a),s(!1),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),alert(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}})()()}),[n]),i?Object(l.jsx)(C,{}):Object(l.jsxs)("div",{style:y.contentPadding,children:[Object(l.jsx)("h1",{children:p}),Object(l.jsx)("div",{style:y.imageDiv,children:Object(l.jsx)("img",{src:m,alt:p,style:y.image})}),Object(l.jsxs)("p",{children:[Object(l.jsx)("strong",{children:"Price: "}),"U$",x]}),Object(l.jsxs)("p",{children:[Object(l.jsx)("strong",{children:"Description: "}),h]}),Object(l.jsxs)("p",{children:[Object(l.jsx)("strong",{children:"Category: "}),g]}),Object(l.jsx)(k.a,{variant:"success",style:y.buttonSpacing,onClick:function(e){e.preventDefault();var n={name:p,price:x};t.addToCart(n)},children:"Add to Cart"})]})};var T=function(){var e=Object(a.useState)({fullName:"",nickname:"",email:"",password:""}),t=Object(v.a)(e,2),n=t[0],r=t[1],c=function(){var e=Object(f.a)(O.a.mark((function e(t){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,P.authentication.createUserWithEmailAndPassword(n.email,n.password);case 4:return a=e.sent,e.next=7,P.db.collection("users").add({fullName:n.fullName,nickname:n.nickname,userId:a.user.uid});case 7:e.sent,alert("Registration Successfull"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),alert(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),i=function(e){var t=e.target.name,a=e.target.value;r(Object(j.a)(Object(j.a)({},n),{},Object(I.a)({},t,a)))};return Object(l.jsx)("div",{style:{margin:"50px 30px"},children:Object(l.jsxs)(L.a,{children:[Object(l.jsxs)(L.a.Group,{className:"mb-3",controlId:"formFullName",children:[Object(l.jsx)(L.a.Label,{children:"Full Name"}),Object(l.jsx)(L.a.Control,{label:"fullName",name:"fullName",type:"text",value:n.fullName,onChange:i,placeholder:"Enter your Full Name"})]}),Object(l.jsxs)(L.a.Group,{className:"mb-3",controlId:"formNickname",children:[Object(l.jsx)(L.a.Label,{children:"Nickname"}),Object(l.jsx)(L.a.Control,{label:"nickname",name:"nickname",type:"text",value:n.nickname,onChange:i,placeholder:"Enter a Nickname"})]}),Object(l.jsxs)(L.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(l.jsx)(L.a.Label,{children:"Email address"}),Object(l.jsx)(L.a.Control,{label:"email",name:"email",type:"email",value:n.email,onChange:i,placeholder:"Enter email"}),Object(l.jsx)(L.a.Text,{className:"text-muted",children:"We'll never share your email with anyone else."})]}),Object(l.jsxs)(L.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(l.jsx)(L.a.Label,{children:"Password"}),Object(l.jsx)(L.a.Control,{label:"password",name:"password",type:"password",placeholder:"Password",value:n.password,onChange:i})]}),Object(l.jsx)(k.a,{variant:"secondary",type:"submit",onClick:c,children:"Register"})]})})};var G=function(e){var t=Object(a.useContext)(b),n=e.product,r=e.number;return Object(l.jsxs)("div",{children:[Object(l.jsxs)("p",{children:[Object(l.jsx)("strong",{children:"Product Name: "}),n.name]}),Object(l.jsxs)("p",{children:[Object(l.jsx)("strong",{children:"Price: "}),"U$",n.price]}),Object(l.jsx)(k.a,{variant:"danger",style:{marginBottom:"20px"},onClick:function(){t.deleteItemInCart(r)},children:"Delete item"})]})};var U=function(){var e=Object(a.useContext)(b),t={margin:{margin:"20px 60px 20px 60px"},buttonMargin:{marginTop:"20px"}};return console.log(e.shoppingList),0===e.shoppingList.length?Object(l.jsx)("h2",{style:t.margin,children:"Please select an Item to buy"}):Object(l.jsxs)("div",{style:t.margin,children:[Object(l.jsx)("h1",{children:"Shopping Cart"}),Object(l.jsx)("div",{children:e.shoppingList.map((function(e,t){return Object(l.jsx)(G,{product:e,number:t})}))}),Object(l.jsx)(k.a,{variant:"success",style:t.buttonMargin,children:"Pay"})]})},B=n(53);var R=function(e){var t=e.children,n=Object(a.useState)(localStorage.getItem("login")),r=Object(v.a)(n,2),c=r[0],i=r[1],s=Object(a.useState)([]),o=Object(v.a)(s,2),d=o[0],j=o[1];return Object(l.jsx)(b.Provider,{value:{userLogin:c,loginUser:function(){i(!0),localStorage.setItem("login",!0)},logoutUser:function(){i(!1),localStorage.removeItem("login")},shoppingList:d,addToCart:function(e){j((function(t){return[].concat(Object(B.a)(t),[e])}))},deleteItemInCart:function(e){var t=d.splice(e,1),n=d.filter((function(e){return e!==t}));j(n)}},children:t})};n(73);var W=function(){var e={pageContainer:{position:"relative",minHeight:"100vh"},contentWrap:{paddingBottom:"40px"}};return Object(l.jsx)(R,{children:Object(l.jsx)(s.a,{children:Object(l.jsxs)("div",{style:e.pageContainer,children:[Object(l.jsxs)("div",{style:e.contentWrap,children:[Object(l.jsx)(h,{}),Object(l.jsx)(o.a,{path:"/react_ecommerce",exact:!0,component:S}),Object(l.jsx)(o.a,{path:"/Login",exact:!0,component:D}),Object(l.jsx)(o.a,{path:"/Register",exact:!0,component:T}),Object(l.jsx)(o.a,{path:"/ShoppingCart",exact:!0,component:U}),Object(l.jsx)(o.a,{path:"/Product/:id",exact:!0,component:E})]}),Object(l.jsx)(d,{})]})})})};n(74);i.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(W,{})}),document.getElementById("root"))}},[[75,1,2]]]);
//# sourceMappingURL=main.de30266a.chunk.js.map